apiVersion: v1
kind: ConfigMap
metadata:
  name: olake-ui-config
  namespace: {{ include "olake.namespace" . }}
  annotations: {}
  labels:
    app.kubernetes.io/name: olake-ui
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/component: olake-ui
    {{- include "olake.labels" . | nindent 4 }}
data:
  app.conf: |
    appname = olake-server
    httpport = {{ .Values.olakeUI.env.HTTP_PORT | default "8000" }}
    runmode = {{ .Values.olakeUI.env.RUN_MODE | default .Values.global.env.RUN_MODE | default "staging" }}
    autorender = false
    copyrequestbody = true
    EnableDocs = true
    logsdir = ./logger/logs
    sessionon = true

    # Database Configuration
    postgresdb              = ${POSTGRES_DB}
    OLAKE_POSTGRES_USER     = ${OLAKE_POSTGRES_USER}
    OLAKE_POSTGRES_PASSWORD = ${OLAKE_POSTGRES_PASSWORD}
    OLAKE_POSTGRES_HOST     = ${OLAKE_POSTGRES_HOST}
    OLAKE_POSTGRES_PORT     = ${OLAKE_POSTGRES_PORT}
    OLAKE_POSTGRES_DBNAME   = ${OLAKE_POSTGRES_DBNAME}
    OLAKE_POSTGRES_SSLMODE  = ${OLAKE_POSTGRES_SSLMODE}
    
    # Temporal Configuration
    TEMPORAL_ADDRESS = temporal.{{ include "olake.namespace" . }}.svc.cluster.local:7233